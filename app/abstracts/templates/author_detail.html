{% extends "base.html" %}

{% block content %}
<h1>{{ author.appellations.all.last.first_name }} {{ author.appellations.all.last.last_name }}</h1>

<div class="card">
  <div class="card-header">Author Info</div>
  <div class="card-body">
    <div class="card-deck">
    <div class="card">
      <div class="card-header">Names</div>
    <ul class="list-group list-group-flush">
      {% for appellation in appellations %}
      <li class="list-group-item">{{ appellation.first_name }} {{ appellation.last_name }} (Source: {{ appellation.asserted_by }})</li>
      {% endfor %}
    </ul>
    </div>

    <div class="card">
      <div class="card-header">Institutions</div>
    <ul class="list-group list-group-flush">
      {% for institution_membership in institution_memberships %}
      <li class="list-group-item">{{ institution_membership.institution.name }} ({% if institution_membership.institution.city %}{{ institution_membership.institution.city }},{% endif %}{% if institution_membership.institution.country %} {{ institution_membership.institution.country }}{% endif %}) (Source: {{ institution_membership.asserted_by }})</li>
      {% endfor %}
    </ul>
    </div>

    <div class="card">
      <div class="card-header">Departments</div>
    <ul class="list-group list-group-flush">
      {% for department_membership in department_memberships %}
      <li class="list-group-item">{{ department_membership.department }} (Source: {{ department_membership.asserted_by }})</li>
      {% endfor %}
    </ul>
    </div>
    <div class="card">
      <div class="card-header">Genders</div>
    <ul class="list-group list-group-flush">
      {% for gender_membership in gender_memberships %}
      <li class="list-group-item">{{ gender_membership.gender }} (Source: {{ gender_membership.asserted_by }})</li>
      {% endfor %}
    </ul>
  </div>
</div>
</div>
</div>

<div class="card">
  <div class="card-header">Works</div>
  <ul class="list-group list-group-flush">
    {% for work in authored_works %}
    <li class="list-group-item"><a href="{% url 'work_detail' work.pk %}">{{ work.versions.all | first }}</a></li>
    {% endfor %}
  </ul>
</div>

{% endblock %}
