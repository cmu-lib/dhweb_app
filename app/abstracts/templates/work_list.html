{% extends "base.html" %}

{% block content %}

{% load crispy_forms_tags %}

<h1>Works</h1>

<div class="row">
  <div class="col-md-8">
    <div class="card m-2">
    <div class="card-header">Results: Displaying {{ filtered_works_count }} out of {{ available_works_count }} works</div>
    <ul class="list-group list-group-flush">
      {% for work in work_list %}
      <li class="list-group-item">{% include "work_card.html" with work=work %}
      {% if forloop.last and page_obj.paginator.num_pages > 1 %}
      {% include "paginator.html" %}
      {% endif %}
      </li>
      {% endfor %}
    </ul>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card m-2">
      <div class="card-header">Options</div>
      <div class="card-body">
        <form action="{% url 'work_list' %}" method="get">
          {{ work_filter_form|crispy }}
          <div class="form-group">
          <button type="submit" class="btn btn-primary mb-2">Filter</button>
          <a class="btn btn-secondary mb-2" href="{% url 'work_list' %}" role="button">Reset</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


{% endblock %}
